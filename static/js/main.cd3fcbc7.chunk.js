(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{66:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),c=a.n(s),o=a(4),i=a(5),l=a(7),u=a(6),d=a(19),h=a.n(d),g=a(20),m=a.n(g),p=a(21),j=a.n(p),f=(a(66),a(1)),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={requestedImages:""},e.handleInputValue=function(t){var a=t.target.value;e.setState({requestedImages:a})},e.handleFetchImages=function(t){t.preventDefault();var a=e.state.requestedImages,n=e.props,r=n.fetchImages;(0,n.resetImagesArray)();r(a,1),e.setState({requestedImages:""})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=this.handleInputValue,a=this.handleFetchImages,n=e.requestedImages;return Object(f.jsx)("header",{className:"Searchbar",children:Object(f.jsxs)("form",{className:"SearchForm",onSubmit:a,children:[Object(f.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(f.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(f.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:n,onChange:t})]})})}}]),a}(n.Component),O=(a(68),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.webformatURL,n=e.tags,r=e.handleOpenModal;return Object(f.jsx)("li",{onClick:function(){return r(t)},children:Object(f.jsx)("img",{src:a,alt:n})})}}]),a}(n.Component)),v=(a(69),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.images,a=e.handleOpenModal;return Object(f.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.tags;return Object(f.jsx)(O,{id:t,webformatURL:n,tags:r,handleOpenModal:a},t)}))})}}]),a}(n.Component)),y=(a(70),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={oneMorePage:1},e.handleOneMorePage=function(){var t=e.state.oneMorePage+1;(0,e.props.loadMoreImages)(t),e.setState({oneMorePage:t})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.handleOneMorePage;return Object(f.jsx)("button",{type:"button",onClick:e,children:"Load More"})}}]),a}(n.Component)),I=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleClickOnOverlay=function(t){var a=e.props.handleCLoseModal;"Overlay"===t.target.className&&a()},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.handleClickOnOverlay,t=this.props,a=t.largeImageURL,n=t.tags;return Object(f.jsx)("div",{className:"Overlay",onClick:e,children:Object(f.jsx)("div",{className:"Modal",children:Object(f.jsx)("img",{src:a,alt:n})})})}}]),a}(n.Component),M=(a(71),a(72),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={images:[],currentImage:{},queryString:"",isLoaded:!0,isModalOpened:!1},e.fetchImages=function(t,a){var n="https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=").concat("22716086-2fdd68696acd66b897a29f84e","&image_type=photo&orientation=horizontal&per_page=12");t&&(e.setState({isLoaded:!1}),h.a.get(n).then((function(a){var n=a.data;return e.setState((function(e){var a=e.queryString,r=e.images,s=n.hits;return{images:t===a?r.concat(s):s,queryString:t,isLoaded:!0}}))})).catch((function(e){return j.a.Notify.failure(e.message)})))},e.loadMoreImages=function(t){var a=e.state.queryString;e.fetchImages(a,t),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.handleOpenModal=function(t){var a=e.state.images.find((function(e){return e.id===t}));e.setState({currentImage:a,isModalOpened:!0}),window.addEventListener("keydown",e.escClickListener)},e.escClickListener=function(t){"Escape"===t.key&&e.handleCLoseModal()},e.handleCLoseModal=function(){e.setState({currentImage:{},isModalOpened:!1}),window.removeEventListener("keydown",e.escClickListener)},e.resetImagesArray=function(){e.setState({images:[]})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.fetchImages,t=this.loadMoreImages,a=this.handleOpenModal,n=this.handleCLoseModal,r=this.resetImagesArray,s=this.state,c=s.images,o=s.isLoaded,i=s.isModalOpened,l=s.currentImage,u=s.queryString,d=l.largeImageURL,h=l.tags,g=c.length>0;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b,{fetchImages:e,queryString:u,resetImagesArray:r}),Object(f.jsx)(m.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80,visible:!o}),o&&Object(f.jsx)(v,{images:c,handleOpenModal:a}),g&&Object(f.jsx)(y,{loadMoreImages:t}),i&&Object(f.jsx)(I,{largeImageURL:d,tags:h,handleCLoseModal:n})]})}}]),a}(n.Component));a(73);c.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(M,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.cd3fcbc7.chunk.js.map