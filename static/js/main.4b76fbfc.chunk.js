(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,a,t){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__2ueGb",imageGalleryItem__image:"ImageGalleryItem_imageGalleryItem__image__3X4Ql"}},12:function(e,a,t){e.exports={overlay:"Modal_overlay__wwsTS",modal:"Modal_modal__3KDYa"}},25:function(e,a,t){e.exports={imageGallery:"ImageGallery_imageGallery__3scjv"}},26:function(e,a,t){e.exports={button:"Button_button__2osnT"}},27:function(e,a,t){e.exports={mainContainer:"App_mainContainer__2Xf0L"}},74:function(e,a,t){},75:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(21),o=t.n(s),c=t(4),i=t(5),l=t(7),u=t(6),m=t(22),d=t.n(m),h=t(23),g=t.n(h),p=t(24),b=t.n(p),f=t(8),j=t.n(f),O=t(1),_=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={requestedImages:""},e.handleInputValue=function(a){var t=a.target.value;e.setState({requestedImages:t})},e.handleFetchImages=function(a){a.preventDefault();var t=e.state.requestedImages,n=e.props,r=n.fetchImages;(0,n.resetImagesArray)();r(t,1),e.setState({requestedImages:""})},e}return Object(i.a)(t,[{key:"render",value:function(){var e=this.state,a=this.handleInputValue,t=this.handleFetchImages,n=e.requestedImages;return Object(O.jsx)("header",{className:j.a.searchbar,children:Object(O.jsxs)("form",{className:j.a.searchForm,onSubmit:t,children:[Object(O.jsx)("button",{type:"submit",className:j.a.searchForm__button,children:Object(O.jsx)("span",{className:j.a.searchForm__buttonLabel,children:"Search"})}),Object(O.jsx)("input",{className:j.a.searchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:n,onChange:a})]})})}}]),t}(n.Component),y=t(11),v=t.n(y),I=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){var e=this.props,a=e.id,t=e.webformatURL,n=e.tags,r=e.handleOpenModal;return Object(O.jsx)("li",{className:v.a.imageGalleryItem,onClick:function(){return r(a)},children:Object(O.jsx)("img",{className:v.a.imageGalleryItem__image,src:t,alt:n})})}}]),t}(n.Component),x=t(25),M=t.n(x),L=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){var e=this.props,a=e.images,t=e.handleOpenModal;return Object(O.jsx)("ul",{className:M.a.imageGallery,children:a.map((function(e){var a=e.id,n=e.webformatURL,r=e.tags;return Object(O.jsx)(I,{id:a,webformatURL:n,tags:r,handleOpenModal:t},a)}))})}}]),t}(n.Component),S=t(26),C=t.n(S),k=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={oneMorePage:1},e.handleOneMorePage=function(){var a=e.state.oneMorePage+1;(0,e.props.loadMoreImages)(a),e.setState({oneMorePage:a})},e}return Object(i.a)(t,[{key:"render",value:function(){var e=this.handleOneMorePage;return Object(O.jsx)("button",{className:C.a.button,type:"button",onClick:e,children:"Load More"})}}]),t}(n.Component),w=t(12),F=t.n(w),N=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).handleClickOnOverlay=function(a){var t=e.props.handleCLoseModal;a.target.className.includes("overlay")&&t()},e}return Object(i.a)(t,[{key:"render",value:function(){var e=this.handleClickOnOverlay,a=this.props,t=a.largeImageURL,n=a.tags;return Object(O.jsx)("div",{className:F.a.overlay,onClick:e,children:Object(O.jsx)("div",{className:F.a.modal,children:Object(O.jsx)("img",{src:t,alt:n})})})}}]),t}(n.Component),G=t(27),q=t.n(G),A=(t(73),function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={images:[],currentImage:{},queryString:"",isLoaded:!0,isModalOpened:!1},e.fetchImages=function(a,t){var n="https://pixabay.com/api/?q=".concat(a,"&page=").concat(t,"&key=").concat("22716086-2fdd68696acd66b897a29f84e","&image_type=photo&orientation=horizontal&per_page=12");a&&(e.setState({isLoaded:!1}),d.a.get(n).then((function(t){var n=t.data;return e.setState((function(e){var t=e.queryString,r=e.images,s=n.hits;return{images:a===t?r.concat(s):s,queryString:a,isLoaded:!0}}))})).catch((function(e){return b.a.Notify.failure(e.message)})))},e.loadMoreImages=function(a){var t=e.state.queryString;e.fetchImages(t,a)},e.handleOpenModal=function(a){var t=e.state.images.find((function(e){return e.id===a}));e.setState({currentImage:t,isModalOpened:!0}),window.addEventListener("keydown",e.escClickListener)},e.escClickListener=function(a){"Escape"===a.key&&e.handleCLoseModal()},e.handleCLoseModal=function(){e.setState({currentImage:{},isModalOpened:!1}),window.removeEventListener("keydown",e.escClickListener)},e.resetImagesArray=function(){e.setState({images:[]})},e}return Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,a){this.state.images.length>12&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.fetchImages,a=this.loadMoreImages,t=this.handleOpenModal,n=this.handleCLoseModal,r=this.resetImagesArray,s=this.state,o=s.images,c=s.isLoaded,i=s.isModalOpened,l=s.currentImage,u=s.queryString,m=l.largeImageURL,d=l.tags,h=o.length>0;return Object(O.jsxs)("div",{className:q.a.mainContainer,children:[Object(O.jsx)(_,{fetchImages:e,queryString:u,resetImagesArray:r}),Object(O.jsx)(g.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80,visible:!c}),c&&Object(O.jsx)(L,{images:o,handleOpenModal:t}),h&&Object(O.jsx)(k,{loadMoreImages:a}),i&&Object(O.jsx)(N,{largeImageURL:m,tags:d,handleCLoseModal:n})]})}}]),t}(n.Component));t(74);o.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(A,{})}),document.getElementById("root"))},8:function(e,a,t){e.exports={searchbar:"Searchbar_searchbar__zaukd",searchForm:"Searchbar_searchForm__37GIo",searchForm__button:"Searchbar_searchForm__button__3I4N4",searchForm__buttonLabel:"Searchbar_searchForm__buttonLabel__1ix0g",searchForm__input:"Searchbar_searchForm__input__2s1O6"}}},[[75,1,2]]]);
//# sourceMappingURL=main.4b76fbfc.chunk.js.map