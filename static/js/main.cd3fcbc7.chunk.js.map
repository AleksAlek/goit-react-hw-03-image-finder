{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js"],"names":["Searchbar","state","requestedImages","handleInputValue","e","value","target","setState","handleFetchImages","preventDefault","props","fetchImages","resetImagesArray","this","className","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","webformatURL","tags","handleOpenModal","onClick","src","alt","ImageGallery","images","map","Button","oneMorePage","handleOneMorePage","updatedPageNumber","loadMoreImages","Modal","handleClickOnOverlay","handleCLoseModal","largeImageURL","App","currentImage","queryString","isLoaded","isModalOpened","url","axios","get","then","data","imagesArray","hits","concat","catch","error","Notiflix","Notify","failure","message","window","scrollTo","top","document","documentElement","scrollHeight","behavior","imageId","find","addEventListener","escClickListener","key","removeEventListener","isButtonVisible","length","color","height","width","visible","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cd3fcbc7.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    requestedImages: \"\",\r\n  };\r\n\r\n  handleInputValue = (e) => {\r\n    const { value } = e.target;\r\n\r\n    this.setState({ requestedImages: value });\r\n  };\r\n\r\n  handleFetchImages = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { requestedImages } = this.state;\r\n    const { fetchImages, resetImagesArray } = this.props;\r\n\r\n    resetImagesArray();\r\n\r\n    const resetedPageNumber = 1;\r\n\r\n    fetchImages(requestedImages, resetedPageNumber);\r\n\r\n    this.setState({ requestedImages: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { state, handleInputValue, handleFetchImages } = this;\r\n    const { requestedImages } = state;\r\n\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={handleFetchImages}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={requestedImages}\r\n            onChange={handleInputValue}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\r\n\r\nimport \"./ImageGalleryItem.module.css\";\r\n\r\nclass ImageGalleryItem extends Component {\r\n  render() {\r\n    const { id, webformatURL, tags, handleOpenModal } = this.props;\r\n\r\n    return (\r\n      <li onClick={() => handleOpenModal(id)}>\r\n        <img src={webformatURL} alt={tags} />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from \"react\";\r\n\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nimport \"./ImageGallery.module.css\";\r\n\r\nclass ImageGallery extends Component {\r\n  render() {\r\n    const { images, handleOpenModal } = this.props;\r\n\r\n    return (\r\n      <ul className=\"ImageGallery\">\r\n        {images.map(({ id, webformatURL, tags }) => (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            id={id}\r\n            webformatURL={webformatURL}\r\n            tags={tags}\r\n            handleOpenModal={handleOpenModal}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\n\r\nimport \"./Button.module.css\";\r\n\r\nclass Button extends Component {\r\n  state = {\r\n    oneMorePage: 1,\r\n  };\r\n\r\n  handleOneMorePage = () => {\r\n    const { oneMorePage } = this.state;\r\n    const { loadMoreImages } = this.props;\r\n\r\n    const updatedPageNumber = oneMorePage + 1;\r\n\r\n    loadMoreImages(updatedPageNumber);\r\n\r\n    this.setState({ oneMorePage: updatedPageNumber });\r\n  };\r\n\r\n  render() {\r\n    const { handleOneMorePage } = this;\r\n\r\n    return (\r\n      <button type=\"button\" onClick={handleOneMorePage}>\r\n        Load More\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\n\r\nclass Modal extends Component {\r\n  handleClickOnOverlay = (e) => {\r\n    const { handleCLoseModal } = this.props;\r\n\r\n    if (e.target.className === \"Overlay\") {\r\n      handleCLoseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { handleClickOnOverlay, props } = this;\r\n    const { largeImageURL, tags } = props;\r\n\r\n    return (\r\n      <div className=\"Overlay\" onClick={handleClickOnOverlay}>\r\n        <div className=\"Modal\">\r\n          <img src={largeImageURL} alt={tags} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nimport Loader from \"react-loader-spinner\";\nimport Notiflix from \"notiflix\";\n\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport Modal from \"../Modal/Modal\";\n\nimport \"./App.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentImage: {},\n    queryString: \"\",\n    isLoaded: true,\n    isModalOpened: false,\n  };\n\n  fetchImages = (requestedImages, updatedPageNumber) => {\n    const apiKey = \"22716086-2fdd68696acd66b897a29f84e\";\n    const url = `https://pixabay.com/api/?q=${requestedImages}&page=${updatedPageNumber}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`;\n\n    if (requestedImages) {\n      this.setState({ isLoaded: false });\n\n      axios\n        .get(url)\n        .then(({ data }) =>\n          this.setState(({ queryString, images }) => {\n            const imagesArray = data.hits;\n\n            const sameRequest = requestedImages === queryString;\n\n            let updatedImagesArray = [];\n\n            if (sameRequest) {\n              updatedImagesArray = images.concat(imagesArray);\n            } else {\n              updatedImagesArray = imagesArray;\n            }\n\n            return {\n              images: updatedImagesArray,\n              queryString: requestedImages,\n              isLoaded: true,\n            };\n          })\n        )\n        .catch((error) => Notiflix.Notify.failure(error.message));\n    }\n  };\n\n  loadMoreImages = (updatedPageNumber) => {\n    const { queryString } = this.state;\n\n    this.fetchImages(queryString, updatedPageNumber);\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  handleOpenModal = (imageId) => {\n    const { images } = this.state;\n\n    const currentImage = images.find(({ id }) => id === imageId);\n\n    this.setState({ currentImage, isModalOpened: true });\n\n    window.addEventListener(\"keydown\", this.escClickListener);\n  };\n\n  escClickListener = (e) => {\n    if (e.key === \"Escape\") {\n      this.handleCLoseModal();\n    }\n  };\n\n  handleCLoseModal = () => {\n    this.setState({ currentImage: {}, isModalOpened: false });\n\n    window.removeEventListener(\"keydown\", this.escClickListener);\n  };\n\n  resetImagesArray = () => {\n    this.setState({ images: [] });\n  };\n\n  render() {\n    const {\n      fetchImages,\n      loadMoreImages,\n      handleOpenModal,\n      handleCLoseModal,\n      resetImagesArray,\n      state,\n    } = this;\n    const { images, isLoaded, isModalOpened, currentImage, queryString } =\n      state;\n    const { largeImageURL, tags } = currentImage;\n\n    const isButtonVisible = images.length > 0;\n\n    return (\n      <>\n        <Searchbar\n          fetchImages={fetchImages}\n          queryString={queryString}\n          resetImagesArray={resetImagesArray}\n        />\n\n        <Loader\n          type=\"TailSpin\"\n          color=\"#00BFFF\"\n          height={80}\n          width={80}\n          visible={!isLoaded}\n        />\n\n        {isLoaded && (\n          <ImageGallery images={images} handleOpenModal={handleOpenModal} />\n        )}\n\n        {isButtonVisible && <Button loadMoreImages={loadMoreImages} />}\n\n        {isModalOpened && (\n          <Modal\n            largeImageURL={largeImageURL}\n            tags={tags}\n            handleCLoseModal={handleCLoseModal}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App/App\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}