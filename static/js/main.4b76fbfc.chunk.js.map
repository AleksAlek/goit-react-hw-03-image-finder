{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/App/App.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","requestedImages","handleInputValue","e","value","target","setState","handleFetchImages","preventDefault","props","fetchImages","resetImagesArray","this","className","s","searchbar","searchForm","onSubmit","type","searchForm__button","searchForm__buttonLabel","searchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","webformatURL","tags","handleOpenModal","imageGalleryItem","onClick","imageGalleryItem__image","src","alt","ImageGallery","images","imageGallery","map","Button","oneMorePage","handleOneMorePage","updatedPageNumber","loadMoreImages","button","Modal","handleClickOnOverlay","handleCLoseModal","includes","largeImageURL","overlay","modal","App","currentImage","queryString","isLoaded","isModalOpened","url","axios","get","then","data","imagesArray","hits","concat","catch","error","Notiflix","Notify","failure","message","imageId","find","window","addEventListener","escClickListener","key","removeEventListener","prevProp","prevState","length","scrollTo","top","document","documentElement","scrollHeight","behavior","isButtonVisible","mainContainer","color","height","width","visible","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4b76fbfc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2ueGb\",\"imageGalleryItem__image\":\"ImageGalleryItem_imageGalleryItem__image__3X4Ql\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__wwsTS\",\"modal\":\"Modal_modal__3KDYa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__3scjv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2osnT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"App_mainContainer__2Xf0L\"};","import React, { Component } from \"react\";\r\n\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    requestedImages: \"\",\r\n  };\r\n\r\n  handleInputValue = (e) => {\r\n    const { value } = e.target;\r\n\r\n    this.setState({ requestedImages: value });\r\n  };\r\n\r\n  handleFetchImages = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { requestedImages } = this.state;\r\n    const { fetchImages, resetImagesArray } = this.props;\r\n\r\n    resetImagesArray();\r\n\r\n    const resetedPageNumber = 1;\r\n\r\n    fetchImages(requestedImages, resetedPageNumber);\r\n\r\n    this.setState({ requestedImages: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { state, handleInputValue, handleFetchImages } = this;\r\n    const { requestedImages } = state;\r\n\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form className={s.searchForm} onSubmit={handleFetchImages}>\r\n          <button type=\"submit\" className={s.searchForm__button}>\r\n            <span className={s.searchForm__buttonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.searchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={requestedImages}\r\n            onChange={handleInputValue}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\r\n\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nclass ImageGalleryItem extends Component {\r\n  render() {\r\n    const { id, webformatURL, tags, handleOpenModal } = this.props;\r\n\r\n    return (\r\n      <li className={s.imageGalleryItem} onClick={() => handleOpenModal(id)}>\r\n        <img\r\n          className={s.imageGalleryItem__image}\r\n          src={webformatURL}\r\n          alt={tags}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from \"react\";\r\n\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nclass ImageGallery extends Component {\r\n  render() {\r\n    const { images, handleOpenModal } = this.props;\r\n\r\n    return (\r\n      <ul className={s.imageGallery}>\r\n        {images.map(({ id, webformatURL, tags }) => (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            id={id}\r\n            webformatURL={webformatURL}\r\n            tags={tags}\r\n            handleOpenModal={handleOpenModal}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\n\r\nimport s from \"./Button.module.css\";\r\n\r\nclass Button extends Component {\r\n  state = {\r\n    oneMorePage: 1,\r\n  };\r\n\r\n  handleOneMorePage = () => {\r\n    const { oneMorePage } = this.state;\r\n    const { loadMoreImages } = this.props;\r\n\r\n    const updatedPageNumber = oneMorePage + 1;\r\n\r\n    loadMoreImages(updatedPageNumber);\r\n\r\n    this.setState({ oneMorePage: updatedPageNumber });\r\n  };\r\n\r\n  render() {\r\n    const { handleOneMorePage } = this;\r\n\r\n    return (\r\n      <button className={s.button} type=\"button\" onClick={handleOneMorePage}>\r\n        Load More\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\n\r\nimport s from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  handleClickOnOverlay = (e) => {\r\n    const { handleCLoseModal } = this.props;\r\n    const { className } = e.target;\r\n\r\n    if (className.includes(\"overlay\")) {\r\n      handleCLoseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { handleClickOnOverlay, props } = this;\r\n    const { largeImageURL, tags } = props;\r\n\r\n    return (\r\n      <div className={s.overlay} onClick={handleClickOnOverlay}>\r\n        <div className={s.modal}>\r\n          <img src={largeImageURL} alt={tags} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nimport Loader from \"react-loader-spinner\";\nimport Notiflix from \"notiflix\";\n\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport Modal from \"../Modal/Modal\";\n\nimport s from \"./App.module.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentImage: {},\n    queryString: \"\",\n    isLoaded: true,\n    isModalOpened: false,\n  };\n\n  componentDidUpdate(prevProp, prevState) {\n    const { images } = this.state;\n\n    if (images.length > 12)\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n  }\n\n  fetchImages = (requestedImages, updatedPageNumber) => {\n    const apiKey = \"22716086-2fdd68696acd66b897a29f84e\";\n    const url = `https://pixabay.com/api/?q=${requestedImages}&page=${updatedPageNumber}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`;\n\n    if (requestedImages) {\n      this.setState({ isLoaded: false });\n\n      axios\n        .get(url)\n        .then(({ data }) =>\n          this.setState(({ queryString, images }) => {\n            const imagesArray = data.hits;\n\n            const sameRequest = requestedImages === queryString;\n\n            let updatedImagesArray = [];\n\n            if (sameRequest) {\n              updatedImagesArray = images.concat(imagesArray);\n            } else {\n              updatedImagesArray = imagesArray;\n            }\n\n            return {\n              images: updatedImagesArray,\n              queryString: requestedImages,\n              isLoaded: true,\n            };\n          })\n        )\n        .catch((error) => Notiflix.Notify.failure(error.message));\n    }\n  };\n\n  loadMoreImages = (updatedPageNumber) => {\n    const { queryString } = this.state;\n\n    this.fetchImages(queryString, updatedPageNumber);\n  };\n\n  handleOpenModal = (imageId) => {\n    const { images } = this.state;\n\n    const currentImage = images.find(({ id }) => id === imageId);\n\n    this.setState({ currentImage, isModalOpened: true });\n\n    window.addEventListener(\"keydown\", this.escClickListener);\n  };\n\n  escClickListener = (e) => {\n    if (e.key === \"Escape\") {\n      this.handleCLoseModal();\n    }\n  };\n\n  handleCLoseModal = () => {\n    this.setState({ currentImage: {}, isModalOpened: false });\n\n    window.removeEventListener(\"keydown\", this.escClickListener);\n  };\n\n  resetImagesArray = () => {\n    this.setState({ images: [] });\n  };\n\n  render() {\n    const {\n      fetchImages,\n      loadMoreImages,\n      handleOpenModal,\n      handleCLoseModal,\n      resetImagesArray,\n      state,\n    } = this;\n    const { images, isLoaded, isModalOpened, currentImage, queryString } =\n      state;\n    const { largeImageURL, tags } = currentImage;\n\n    const isButtonVisible = images.length > 0;\n\n    return (\n      <div className={s.mainContainer}>\n        <Searchbar\n          fetchImages={fetchImages}\n          queryString={queryString}\n          resetImagesArray={resetImagesArray}\n        />\n\n        <Loader\n          type=\"TailSpin\"\n          color=\"#00BFFF\"\n          height={80}\n          width={80}\n          visible={!isLoaded}\n        />\n\n        {isLoaded && (\n          <ImageGallery images={images} handleOpenModal={handleOpenModal} />\n        )}\n\n        {isButtonVisible && <Button loadMoreImages={loadMoreImages} />}\n\n        {isModalOpened && (\n          <Modal\n            largeImageURL={largeImageURL}\n            tags={tags}\n            handleCLoseModal={handleCLoseModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App/App\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__zaukd\",\"searchForm\":\"Searchbar_searchForm__37GIo\",\"searchForm__button\":\"Searchbar_searchForm__button__3I4N4\",\"searchForm__buttonLabel\":\"Searchbar_searchForm__buttonLabel__1ix0g\",\"searchForm__input\":\"Searchbar_searchForm__input__2s1O6\"};"],"sourceRoot":""}